# Day5 - 事前健身操 - 形變/群組/向量/動畫循環/色彩

> 這裡是「Three.js學習日誌」的第5篇，本篇的主旨是要介紹一些在Three.js中，一些常用的基礎操作，這系列的文章假設讀者看得懂javascript，並且有Canvas 2D Context的相關知識。

想要學習`Three.js`，首先當然要先練習一些基本的操作，這邊我們會先從`形變`，`群組`，`向量`，`動畫循環`，`色彩` 開始。

---

## 向量

 `Three.js`的向量類一共有3種，分別是`Vector2`，`Vector3`，`Vector4`，它們各自代表著二三四維空間的向量。

> 如果你對**向量**這個名詞很不熟悉，那麼你也許可以看看我去年寫的[文章](https://ithelp.ithome.com.tw/articles/10268826)

這些**向量**物件都各自有提供各自的運算方法，這邊我們來介紹幾個比較常用的操作:

- `.add`/`sub`/`sub`/`multiply`/`divide`:也就是向量的四則運算，要特別注意的一點是，這些運算方法都不是`pure function`，他們會回傳已經做過運算的自身。
- `.length`: 也就是求取向量的**絕對值**，也就是**長度**，例如假設有一個向量是(a,b)，那麼它的絕對值就是√(a^2+b^2)
- `normalize`: 單位向量化，意思就是說把向量轉變成一個方向不變，但是長度只有1的向量。`normalize`最大的用處通常在於決定`朝向`，像是如果要指定往某個方向射出一顆球，通常就是先設法取得射出方向的單位向量，接著就可以再透過`multiply`來決定速度的大小。
- `lerp`: 其實就是大家國高中都學過的`內插法`，或是叫做`線性映射`。假設今天我們用(a,b)這個向量發動`lerp`方法，那我們要傳入一個`端點向量`(c,d)，還有一個浮點數(假設是0.6)，這樣意思就是要去取得(a,b)轉變到(c,d)的過程中，處於60%變化的那個點所代表的向量。
- `set`: 最後介紹的是最常用的set，顧名思義就是可以直接設定`xyz`座標值。

## 形變

 說到形變，那當然就是`Translate`/`Scale`/`Rotate`三劍客。常常寫`CSS`的前端工程師應該都跟它們混得很熟。

 ### 平移(translate)

 `Three.js`的**平移**，有2種比較常見的方式。

 其中一種是我們在前面的**Hello World**也用過的`Mesh.position`。

 `Mesh.position`本身的型別是`Vector3`，也就是**三維向量物件**，所以理所當然的，我們可以用上面介紹過的各種方法，比方說**四則運算**來定義物體的位置。

 第二種則是只有`Geometry`類才可以使用的`translate`方法。
 
 假設我們把`mesh`比喻成一個3D物件的"外層"，`Geometry`則是它的"內層"，當`Geometry`被下了`translate`時，它其實不會影響到`Mesh`的`position`屬性。

 關於`Geometry.translate`有一點要注意的就是它是一種`one-time-operation`，意思就是說它只能在生成`Mesh`之前被操作一次，`renderer`在render的時候並不會去偵測`Geometry.translate`的改變。
 ### 縮放(scale)

`縮放`其實跟**平移**差不多，有`Mesh.scale`也有`Geometry.scale`(`Geometry.scale`也同樣是`one-time-operation`)，這邊就不描述太多。
 ### 旋轉(rotate)

 旋轉其實是形變中最複雜的一個部分，為什麼說它複雜?
## 群組

## 動畫循環

## 色彩


